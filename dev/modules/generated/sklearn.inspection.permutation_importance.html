

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  
    <title>sklearn.inspection.permutation_importance &#8212; scikit-learn 0.22.dev0 documentation</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../_static/css/bootstrap-responsive.css"/>

    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/extra.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="sklearn.inspection.plot_partial_dependence" href="sklearn.inspection.plot_partial_dependence.html" />
    <link rel="prev" title="sklearn.inspection.partial_dependence" href="sklearn.inspection.partial_dependence.html" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../../_static/js/bootstrap.min.js" type="text/javascript"></script>
  <script>
     VERSION_SUBDIR = (function(groups) {
         return groups ? groups[1] : null;
     })(location.href.match(/^https?:\/\/scikit-learn.org\/([^\/]+)/));
  </script>
  <link rel="canonical" href="http://scikit-learn.org/stable/modules/generated/sklearn.inspection.permutation_importance.html" />

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    function showMenu() {
      var topNav = document.getElementById("scikit-navbar");
      if (topNav.className === "navbar") {
          topNav.className += " responsive";
      } else {
          topNav.className = "navbar";
      }
    };
  </script>

  </head><body>

<div class="header-wrapper">
    <div class="header">
        <p class="logo"><a href="../../index.html">
            <img src="../../_static/scikit-learn-logo-small.png" alt="Logo"/>
        </a>
        </p><div class="navbar" id="scikit-navbar">
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../install.html">Installation</a></li>
                <li class="btn-li"><div class="btn-group">
              <a href="../../documentation.html">Documentation</a>
              <a class="btn dropdown-toggle" data-toggle="dropdown">
                 <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
            <li class="link-title">Scikit-learn <script>document.write(DOCUMENTATION_OPTIONS.VERSION + (VERSION_SUBDIR ? " (" + VERSION_SUBDIR + ")" : ""));</script></li>
            <li><a href="../../tutorial/index.html">Tutorials</a></li>
            <li><a href="../../user_guide.html">User guide</a></li>
            <li><a href="../classes.html">API</a></li>
            <li><a href="../../glossary.html">Glossary</a></li>
            <li><a href="../../faq.html">FAQ</a></li>
            <li><a href="../../developers/index.html">Development</a></li>
            <li><a href="../../roadmap.html">Roadmap</a></li>
            <li><a href="../../about.html">About us</a></li>
            <li class="divider"></li>
                <script>if (VERSION_SUBDIR != "stable") document.write('<li><a href="http://scikit-learn.org/stable/documentation.html">Stable version</a></li>')</script>
                <script>if (VERSION_SUBDIR != "dev") document.write('<li><a href="http://scikit-learn.org/dev/documentation.html">Development version</a></li>')</script>
                <li><a href="http://scikit-learn.org/dev/versions.html">All available versions</a></li>
                <li><a href="../../_downloads/scikit-learn-docs.pdf">PDF documentation</a></li>
              </ul>
            </div>
        </li>
            <li><a href="../../auto_examples/index.html">Examples</a></li>
            </ul>
            <a href="javascript:void(0);" onclick="showMenu()">
                <div class="nav-icon">
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                </div>
            </a>
            <div class="search_form">
                <div class="gcse-search" id="cse" style="width: 100%;"></div>
            </div>
        </div> <!-- end navbar --></div>
</div>


<!-- GitHub "fork me" ribbon -->
<a href="https://github.com/scikit-learn/scikit-learn">
  <img class="fork-me"
       style="position: absolute; top: 0; right: 0; border: 0;"
       src="../../_static/img/forkme.png"
       alt="Fork me on GitHub" />
</a>

<div class="content-wrapper">
    <div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        <div class="rel">
    
        <div class="rellink">
        <a href="sklearn.inspection.partial_dependence.html"
        accesskey="P">Previous
        <br/>
        <span class="smallrellink">
        sklearn.inspe...
        </span>
            <span class="hiddenrellink">
            sklearn.inspection.partial_dependence
            </span>
        </a>
        </div>
            <div class="spacer">
            &nbsp;
            </div>
        <div class="rellink">
        <a href="sklearn.inspection.plot_partial_dependence.html"
        accesskey="N">Next
        <br/>
        <span class="smallrellink">
        sklearn.inspe...
        </span>
            <span class="hiddenrellink">
            sklearn.inspection.plot_partial_dependence
            </span>
        </a>
        </div>

    <!-- Ad a link to the 'up' page -->
        <div class="spacer">
        &nbsp;
        </div>
        <div class="rellink">
        <a href="../classes.html">
        Up
        <br/>
        <span class="smallrellink">
        API Reference
        </span>
            <span class="hiddenrellink">
            API Reference
            </span>
            
        </a>
        </div>
    </div>
    
      <p class="doc-version"><b>scikit-learn v0.22.dev0</b><br/>
      <a href="http://scikit-learn.org/dev/versions.html">Other versions</a></p>
    <p class="citing">Please <b><a href="../../about.html#citing-scikit-learn" style="font-size: 110%;">cite us </a></b>if you use the software.</p>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sklearn.inspection</span></code>.permutation_importance</a><ul>
<li><a class="reference internal" href="#examples-using-sklearn-inspection-permutation-importance">Examples using <code class="docutils literal notranslate"><span class="pre">sklearn.inspection.permutation_importance</span></code></a></li>
</ul>
</li>
</ul>

    </div>
</div>

<input type="checkbox" id="nav-trigger" class="nav-trigger" checked />
<label for="nav-trigger"></label>




      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sklearn-inspection-permutation-importance">
<h1><a class="reference internal" href="../classes.html#module-sklearn.inspection" title="sklearn.inspection"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sklearn.inspection</span></code></a>.permutation_importance<a class="headerlink" href="#sklearn-inspection-permutation-importance" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="sklearn.inspection.permutation_importance">
<code class="sig-prename descclassname">sklearn.inspection.</code><code class="sig-name descname">permutation_importance</code><span class="sig-paren">(</span><em class="sig-param">estimator</em>, <em class="sig-param">X</em>, <em class="sig-param">y</em>, <em class="sig-param">scoring=None</em>, <em class="sig-param">n_repeats=5</em>, <em class="sig-param">n_jobs=None</em>, <em class="sig-param">random_state=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/e74e03294/sklearn/inspection/permutation_importance.py#L45"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.inspection.permutation_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Permutation importance for feature evaluation <a class="reference internal" href="#rd9e56ef97513-bre" id="id1">[BRE]</a>.</p>
<p>The <a class="reference internal" href="../../glossary.html#term-estimator"><span class="xref any std std-term">estimator</span></a> is required to be a fitted estimator. <a class="reference internal" href="../../glossary.html#term-x"><code class="xref any std std-term docutils literal notranslate"><span class="pre">X</span></code></a> can be the
data set used to train the estimator or a hold-out set. The permutation
importance of a feature is calculated as follows. First, a baseline metric,
defined by <a class="reference internal" href="../../glossary.html#term-scoring"><span class="xref any std std-term">scoring</span></a>, is evaluated on a (potentially different) dataset
defined by the <a class="reference internal" href="../../glossary.html#term-x"><code class="xref any std std-term docutils literal notranslate"><span class="pre">X</span></code></a>. Next, a feature column from the validation set is
permuted and the metric is evaluated again. The permutation importance is
defined to be the difference between the baseline metric and metric from
permutating the feature column.</p>
<p>Read more in the <a class="reference internal" href="../permutation_importance.html#permutation-importance"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>estimator</strong><span class="classifier">object</span></dt><dd><p>An estimator that has already been <a class="reference internal" href="../../glossary.html#term-fitted"><span class="xref any std std-term">fitted</span></a> and is compatible with
<a class="reference internal" href="../../glossary.html#term-scorer"><span class="xref any std std-term">scorer</span></a>.</p>
</dd>
<dt><strong>X</strong><span class="classifier">ndarray or DataFrame, shape (n_samples, n_features)</span></dt><dd><p>Data on which permutation importance will be computed.</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like or None, shape (n_samples, ) or (n_samples, n_classes)</span></dt><dd><p>Targets for supervised or <code class="docutils literal notranslate"><span class="pre">None</span></code> for unsupervised.</p>
</dd>
<dt><strong>scoring</strong><span class="classifier">string, callable or None, default=None</span></dt><dd><p>Scorer to use. It can be a single
string (see <a class="reference internal" href="../model_evaluation.html#scoring-parameter"><span class="std std-ref">The scoring parameter: defining model evaluation rules</span></a>) or a callable (see
<a class="reference internal" href="../model_evaluation.html#scoring"><span class="std std-ref">Defining your scoring strategy from metric functions</span></a>). If None, the estimator’s default scorer is used.</p>
</dd>
<dt><strong>n_repeats</strong><span class="classifier">int, default=5</span></dt><dd><p>Number of times to permute a feature.</p>
</dd>
<dt><strong>n_jobs</strong><span class="classifier">int or None, default=None</span></dt><dd><p>The number of jobs to use for the computation.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means 1 unless in a <a class="reference external" href="https://joblib.readthedocs.io/en/latest/parallel.html#joblib.parallel_backend" title="(in joblib v0.13.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">joblib.parallel_backend</span></code></a> context.
<code class="docutils literal notranslate"><span class="pre">-1</span></code> means using all processors. See <a class="reference internal" href="../../glossary.html#term-n-jobs"><span class="xref std std-term">Glossary</span></a>
for more details.</p>
</dd>
<dt><strong>random_state</strong><span class="classifier">int, RandomState instance, or None, default=None</span></dt><dd><p>Pseudo-random number generator to control the permutations of each
feature. See <a class="reference internal" href="../../glossary.html#term-random-state"><span class="xref std std-term">random_state</span></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">Bunch</span></dt><dd><p>Dictionary-like object, with attributes:</p>
<dl class="simple">
<dt>importances_mean<span class="classifier">ndarray, shape (n_features, )</span></dt><dd><p>Mean of feature importance over <code class="docutils literal notranslate"><span class="pre">n_repeats</span></code>.</p>
</dd>
<dt>importances_std<span class="classifier">ndarray, shape (n_features, )</span></dt><dd><p>Standard deviation over <code class="docutils literal notranslate"><span class="pre">n_repeats</span></code>.</p>
</dd>
<dt>importances<span class="classifier">ndarray, shape (n_features, n_repeats)</span></dt><dd><p>Raw permutation importance scores.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="rd9e56ef97513-bre"><span class="brackets"><a class="fn-backref" href="#id1">BRE</a></span></dt>
<dd><p>L. Breiman, “Random Forests”, Machine Learning, 45(1), 5-32,
2001. <a class="reference external" href="https://doi.org/10.1023/A:1010933404324">https://doi.org/10.1023/A:1010933404324</a></p>
</dd>
</dl>
</dd></dl>

<div class="section" id="examples-using-sklearn-inspection-permutation-importance">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">sklearn.inspection.permutation_importance</span></code><a class="headerlink" href="#examples-using-sklearn-inspection-permutation-importance" title="Permalink to this headline">¶</a></h2>
<div class="sphx-glr-thumbcontainer" tooltip="In this example, we compute the permutation importance on the Wisconsin breast cancer dataset u..."><div class="figure align-default" id="id3">
<img alt="../../_images/sphx_glr_plot_permutation_importance_multicollinear_thumb.png" src="../../_images/sphx_glr_plot_permutation_importance_multicollinear_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/inspection/plot_permutation_importance_multicollinear.html#sphx-glr-auto-examples-inspection-plot-permutation-importance-multicollinear-py"><span class="std std-ref">Permutation Importance with Multicollinear or Correlated Features</span></a></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div><div class="sphx-glr-thumbcontainer" tooltip="In this example, we will compare the impurity-based feature importance of :class:`~sklearn.ense..."><div class="figure align-default" id="id4">
<img alt="../../_images/sphx_glr_plot_permutation_importance_thumb.png" src="../../_images/sphx_glr_plot_permutation_importance_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/inspection/plot_permutation_importance.html#sphx-glr-auto-examples-inspection-plot-permutation-importance-py"><span class="std std-ref">Permutation Importance vs Random Forest Feature Importance (MDI)</span></a></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div><div class="clearer"></div></div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer">
        &copy; 2007 - 2019, scikit-learn developers (BSD License).
      <a href="../../_sources/modules/generated/sklearn.inspection.permutation_importance.rst.txt" rel="nofollow">Show this page source</a>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="sklearn.inspection.partial_dependence.html">Previous
      </a>
    </div>
    <div class="buttonNext">
      <a href="sklearn.inspection.plot_partial_dependence.html">Next
      </a>
    </div>
    
     </div>

    
    <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-22606712-2', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    
    <script>
      (function() {
        var cx = '016639176250731907682:tjtqbvtvij0';
        var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <script src="https://scikit-learn.org/versionwarning.js"></script>
  </body>
</html>